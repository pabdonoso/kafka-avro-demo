#!/usr/bin/env bash

# curl a Schema Registry para dar de alta un schema asociado al topico 'test_schema_avro'
curl -X POST -i -H "Content-Type: application/vnd.schemaregistry.v1+json" --data '{"schema":"{\"type\":\"record\",\"namespace\":\"com.carrefour.storeoperations.calendar\",\"name\":\"calendar_store_state\",\"doc\":\"Estado del calendario de las tiendas.\",\"fields\":[{\"name\":\"DATE_DAY\",\"type\":\"string\",\"logicalType\":\"timestamp-millis\",\"doc\":\"D\u00EDa del estado del almacenaje(horas y minutos en cero).\"},{\"name\":\"WERKS\",\"type\":\"string\",\"doc\":\"Identificador de la tienda.\"},{\"name\":\"YEAR\",\"type\":\"int\",\"doc\":\"A\u00F1o para el particionado.\"},{\"name\":\"STATE\",\"type\":[\"string\",\"null\"],\"doc\":\"Estado del d\u00EDa de una tienda(O->abierta, C->cerrada, H->abierta la mitad del d\u00EDa).\"},{\"name\":\"DESCRIPTION\",\"type\":[\"string\",\"null\"],\"doc\":\"Descripci\u00F3n del estado del d\u00EDa de almacenaje.\"},{\"name\":\"ACTIVE\",\"type\":[\"boolean\",\"null\"],\"doc\":\"Estado del evento.\"}]}"}' http://localhost:8081/subjects/test_schema_avro-value/versions
